<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,minimum-scale=1">

  <title>Advanced topics and how-tos</title>
  <meta name="description" content="# Advanced topics and how-tosThis page contains more advanced and complete information about the[`jupyter-book` repository](https://github.com/jupyter/jupyte...">

  <link rel="canonical" href="https://jupyterbook.org/hide/guide/06_advanced.html">
  <link rel="alternate" type="application/rss+xml" title="CSCI 7000 - Advances in Artificial Intelligence and Neuroscience" href="https://jupyterbook.org/feed.xml">

  <meta property="og:url"         content="https://jupyterbook.org/hide/guide/06_advanced.html" />
<meta property="og:type"        content="article" />
<meta property="og:title"       content="Advanced topics and how-tos" />
<meta property="og:description" content="# Advanced topics and how-tosThis page contains more advanced and complete information about the[`jupyter-book` repository](https://github.com/jupyter/jupyte..." />
<meta property="og:image"       content="https://jupyterbook.org/images/brain_ai_logo.png" />

<meta name="twitter:card" content="summary">


  <script type="application/ld+json">
  {
  "@context": "http://schema.org",
  "@type": "NewsArticle",
  "mainEntityOfPage": "https://jupyterbook.org/hide/guide/06_advanced.html",
  "headline": "Advanced topics and how-tos",
  "datePublished": "2019-12-27T11:40:15+08:00",
  "dateModified": "2019-12-27T11:40:15+08:00",
  "description": "# Advanced topics and how-tosThis page contains more advanced and complete information about the[`jupyter-book` repository](https://github.com/jupyter/jupyte...",
  "author": {
    "@type": "Person",
    "name": "Tom Yeh"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Data 100 at UC Berkeley",
    "logo": {
      "@type": "ImageObject",
      "url": "https://jupyterbook.org",
      "width": 60,
      "height": 60
    }
  },
  "image": {
    "@type": "ImageObject",
    "url": "https://jupyterbook.org",
    "height": 60,
    "width": 60
  }
}

  </script>
  <link rel="stylesheet" href="/assets/css/styles.css">

  <!-- <link rel="manifest" href="/manifest.json"> -->
  <!-- <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#efae0a"> -->
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="msapplication-TileImage" content="/mstile-144x144.png">
  <meta name="theme-color" content="#233947">

  <!-- Favicon -->
  <link rel="shortcut icon" type="image/x-icon" href="/images/logo/favicon.ico">

  <!-- MathJax Config -->
  <!-- Allow inline math using $ and automatically break long math lines -->
<!-- (mostly) copied from nbconvert configuration -->
<!-- https://github.com/jupyter/nbconvert/blob/master/nbconvert/templates/html/mathjax.tpl -->
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true,
        processEnvironments: true
    },
    // Center justify equations in code and markdown cells. Elsewhere
    // we use CSS to left justify single line equations in code cells.
    displayAlign: 'center',
    "HTML-CSS": {
        styles: {'.MathJax_Display': {"margin": 0}},
        linebreaks: { automatic: true },
    },
    
});
</script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS_HTML' async></script>


  <!-- DOM updating function -->
  <script src="/assets/js/page/dom-update.js"></script>

  <!-- Selectors for elements on the page -->
  <script src="/assets/js/page/documentSelectors.js"></script>

  <!-- Define some javascript variables that will be useful in other javascript -->
  <script>
    const site_basename = '';
  </script>

  <!-- Add AnchorJS to let headers be linked -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.0/anchor.min.js" async></script>
  <script src="/assets/js/page/anchors.js" async></script>

  <!-- Include Turbolinks to make page loads fast -->
  <!-- https://github.com/turbolinks/turbolinks -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/turbolinks/5.2.0/turbolinks.js" async></script>
  <meta name="turbolinks-cache-control" content="no-cache">

  <!-- Load nbinteract for widgets -->
  

  <!-- Load Thebelab for interactive widgets -->
  <!-- Include Thebelab for interactive code if it's enabled -->



  <!-- Load the auto-generating TOC (non-async otherwise the TOC won't load w/ turbolinks) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.8.1/tocbot.min.js" async></script>
  <script src="/assets/js/page/tocbot.js"></script>

  <!-- Google analytics -->
  
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-52617120-7"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-52617120-7');
</script>



  <!-- Clipboard copy button -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" async></script>

  <!-- Load custom website scripts -->
  <script src="/assets/js/scripts.js" async></script>

  <!-- Load custom user CSS and JS  -->
  <script src="/assets/custom/custom.js" async></script>
  <link rel="stylesheet" href="/assets/custom/custom.css">

  <!-- Update interact links w/ REST param, is defined in includes so we can use templates -->
  

  <!-- Lunr search code - will only be executed on the /search page -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.6/lunr.min.js" async></script>
  <script>var initQuery = function() {
  // See if we have a search box
  var searchInput = document.querySelector('input#lunr_search');
  if (searchInput === null) {
    return;
  }

  // Function to parse our lunr cache
  var idx = lunr(function () {
    this.field('title')
    this.field('excerpt')
    this.field('categories')
    this.field('tags')
    this.ref('id')

    this.pipeline.remove(lunr.trimmer)

    for (var item in store) {
      this.add({
        title: store[item].title,
        excerpt: store[item].excerpt,
        categories: store[item].categories,
        tags: store[item].tags,
        id: item
      })
    }
  });

  // Run search upon keyup
  searchInput.addEventListener('keyup', function () {
    var resultdiv = document.querySelector('#results');
    var query = document.querySelector("input#lunr_search").value.toLowerCase();
    var result =
      idx.query(function (q) {
        query.split(lunr.tokenizer.separator).forEach(function (term) {
          q.term(term, { boost: 100 })
          if(query.lastIndexOf(" ") != query.length-1){
            q.term(term, {  usePipeline: false, wildcard: lunr.Query.wildcard.TRAILING, boost: 10 })
          }
          if (term != ""){
            q.term(term, {  usePipeline: false, editDistance: 1, boost: 1 })
          }
        })
      });

      // Empty the results div
      while (resultdiv.firstChild) {
        resultdiv.removeChild(resultdiv.firstChild);
      }

    resultdiv.insertAdjacentHTML('afterbegin', '<p class="results__found">'+result.length+' Result(s) found</p>');
    for (var item in result) {
      var ref = result[item].ref;
      if(store[ref].teaser){
        var searchitem =
          '<div class="list__item">'+
            '<article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">'+
              '<h2 class="archive__item-title" itemprop="headline">'+
                '<a href="'+store[ref].url+'" rel="permalink">'+store[ref].title+'</a>'+
              '</h2>'+
              '<div class="archive__item-teaser">'+
                '<img src="'+store[ref].teaser+'" alt="">'+
              '</div>'+
              '<p class="archive__item-excerpt" itemprop="description">'+store[ref].excerpt.split(" ").splice(0,20).join(" ")+'...</p>'+
            '</article>'+
          '</div>';
      }
      else{
    	  var searchitem =
          '<div class="list__item">'+
            '<article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">'+
              '<h2 class="archive__item-title" itemprop="headline">'+
                '<a href="'+store[ref].url+'" rel="permalink">'+store[ref].title+'</a>'+
              '</h2>'+
              '<p class="archive__item-excerpt" itemprop="description">'+store[ref].excerpt.split(" ").splice(0,20).join(" ")+'...</p>'+
            '</article>'+
          '</div>';
      }
      resultdiv.insertAdjacentHTML('beforeend', searchitem);
    }
  });
};

initFunction(initQuery);
</script>

  <!-- Load JS that depends on site variables -->
  <script src="/assets/js/page/copy-button.js" async></script>

  <!-- Hide cell code -->
  <script src="/assets/js/page/hide-cell.js" async></script>

  <!-- Printing the screen -->
  <!-- Include nbinteract for interactive widgets -->
<script src="https://printjs-4de6.kxcdn.com/print.min.js" async></script>
<script>
printContent = () => {
    // MathJax displays a second version of any math for assistive devices etc.
    // This prevents double-rendering in the PDF output.
    var ignoreAssistList = [];
    assistives = document.querySelectorAll('.MathJax_Display span.MJX_Assistive_MathML').forEach((element, index) => {
        var thisId = 'MathJax-assistive-' + index.toString();
        element.setAttribute('id', thisId);
        ignoreAssistList.push(thisId)
    });

    // Print the actual content object
    printJS({
        printable: 'textbook_content',
        type: 'html',
        css: "/assets/css/styles.css",
        style: "#textbook_content {padding-top: 40px};",
        scanStyles: false,
        targetStyles: ["*"],
        ignoreElements: ignoreAssistList,
        documentTitle: "Made with Jupyter Book"
    })
};

initPrint = () => {
    document.querySelector('#interact-button-print').addEventListener('click', printContent)
}

initFunction(initPrint)
</script>

</head>

  <body>
    <!-- Include the ThebeLab config so it gets reloaded on each page -->
    <script type="text/x-thebe-config">{
    requestKernel: true,
    binderOptions: {
    repo: "jupyter/jupyter-book",
    ref: "gh-pages",
    },
    codeMirrorConfig: {
    theme: "abcdef",
    mode: "python"
    },
    kernelOptions: {
    kernelName: "python3",
    path: ""
    }
}
</script>

    <!-- .js-show-sidebar shows sidebar by default -->
    <div id="js-textbook" class="c-textbook js-show-sidebar">
      



<nav id="js-sidebar" class="c-textbook__sidebar">
  <a href="/"><img src="/images/brain_ai_logo.png" class="textbook_logo" id="sidebar-logo" alt="textbook logo" data-turbolinks-permanent/></a>
  <h2 class="c-sidebar__title">CSCI 7000 - Advances in Artificial Intelligence and Neuroscience</h2>
  <ul class="c-sidebar__chapters">
    
      
      
        <li><h2 class="c-sidebar__title">Course</li>
        
      
      

      
      
      
      

      
      
      <li class="c-sidebar__chapter" data-url="/home">
        <a class="c-sidebar__entry"
          href="/home.html"
        >
          
          Home
        </a>
      </li>

      
      

      

      
      

      

      
    
      
      

      
      
      
      

      
      
      <li class="c-sidebar__chapter" data-url="/course/syllabus">
        <a class="c-sidebar__entry"
          href="/course/syllabus.html"
        >
          
          Syllabus
        </a>
      </li>

      
      

      

      
      

      

      
    
      
      

      
      
      
      

      
      
      <li class="c-sidebar__chapter" data-url="/course/instructors">
        <a class="c-sidebar__entry"
          href="/course/instructors.html"
        >
          
          Instructors
        </a>
      </li>

      
      

      

      
      

      

      
    
      
      

      
      
      
      

      
      
      <li class="c-sidebar__chapter" data-url="/course/schedule">
        <a class="c-sidebar__entry"
          href="/course/schedule.html"
        >
          
          Schedule
        </a>
      </li>

      
      

      

      
      

      

      
    
      
      
        <li class="c-sidebar__divider"></li>
        
      
      
        <li><h2 class="c-sidebar__title">Units</li>
        
      
      

      
      
      
      

      
      
      <li class="c-sidebar__chapter" data-url="/units/intro">
        <a class="c-sidebar__entry"
          href="/units/intro.html"
        >
          
            1.
          
          Introduction
        </a>
      </li>

      
      

      

      
      

      
        

        

        <ul class="c-sidebar__sections u-hidden-visually">
          
            
            

            
            
            
            

            <li class="c-sidebar__section" data-url="/labs/lab-Jupyter_tour/index">
              <a class="c-sidebar__entry"
                href="/labs/lab-Jupyter_tour/index.html"
              >
                
                Lab - Jupyter notebook tour
              </a>
            </li>
            
            
          
            
            

            
            
            
            

            <li class="c-sidebar__section" data-url="/labs/lab-Personal_introduction/index">
              <a class="c-sidebar__entry"
                href="/labs/lab-Personal_introduction/index.html"
              >
                
                Lab - About Me
              </a>
            </li>
            
            
          
        </ul>
      

      
    
      
      

      
      
      
      

      
      
      <li class="c-sidebar__chapter" data-url="/units/fmri-basics">
        <a class="c-sidebar__entry"
          href="/units/fmri-basics.html"
        >
          
            2.
          
          fMRI Basics
        </a>
      </li>

      
      

      

      
      

      

      
    
      
      

      
      
      
      

      
      
      <li class="c-sidebar__chapter" data-url="/units/fmri-analysis">
        <a class="c-sidebar__entry"
          href="/units/fmri-analysis.html"
        >
          
            3.
          
          fMRI Analysis
        </a>
      </li>

      
      

      

      
      

      

      
    
      
      

      
      
      
      

      
      
      <li class="c-sidebar__chapter" data-url="/units/machine-learning">
        <a class="c-sidebar__entry"
          href="/units/machine-learning.html"
        >
          
            4.
          
          Machine Learning
        </a>
      </li>

      
      

      

      
      

      

      
    
      
      

      
      
      
      

      
      
      <li class="c-sidebar__chapter" data-url="/units/fmri-machine-learning">
        <a class="c-sidebar__entry"
          href="/units/fmri-machine-learning.html"
        >
          
            5.
          
          fMRI and Machine Learning
        </a>
      </li>

      
      

      

      
      

      

      
    
      
      

      
      
      
      

      
      
      <li class="c-sidebar__chapter" data-url="/units/fnirs-basics">
        <a class="c-sidebar__entry"
          href="/units/fnirs-basics.html"
        >
          
            6.
          
          fNIRS Basics
        </a>
      </li>

      
      

      

      
      

      

      
    
      
      

      
      
      
      

      
      
      <li class="c-sidebar__chapter" data-url="/units/fnirs-analysis">
        <a class="c-sidebar__entry"
          href="/units/fnirs-analysis.html"
        >
          
            7.
          
          fNIRS Analysis
        </a>
      </li>

      
      

      

      
      

      

      
    
      
      

      
      
      
      

      
      
      <li class="c-sidebar__chapter" data-url="/units/fnirs-machine-learning">
        <a class="c-sidebar__entry"
          href="/units/fnirs-machine-learning.html"
        >
          
            8.
          
          fNIRS and Machine Learning
        </a>
      </li>

      
      

      

      
      

      

      
    
  </ul>
  <p class="sidebar_footer">Powered by <a href="https://jupyterbook.org">Jupyter Book</a></p>
</nav>

      
      <div class="c-topbar" id="top-navbar">
  <!-- We show the sidebar by default so we use .is-active -->
  <div class="c-topbar__buttons">
    <button
      id="js-sidebar-toggle"
      class="hamburger hamburger--arrowalt is-active"
    >
      <span class="hamburger-box">
        <span class="hamburger-inner"></span>
      </span>
    </button>
    <div class="buttons">
<div class="download-buttons-dropdown">
    <button id="dropdown-button-trigger" class="interact-button"><img src="/assets/images/download-solid.svg" alt="Download" /></button>
    <div class="download-buttons">
        
        <a id="interact-button-print"><button id="interact-button-download" class="interact-button">.pdf</button></a>
    </div>
</div>


</div>

  </div>
  <!-- Empty sidebar placeholder that we'll auto-fill with javascript -->
  <aside class="sidebar__right">
    <header><h4 class="nav__title"><img src="/assets/images/list-solid.svg" alt="Search" />   On this page</h4></header>
    <nav class="onthispage">
    </nav>
  </aside>
  <a href="/search.html" class="topbar-right-button" id="search-button">
    <img src="/assets/images/search-solid.svg" alt="Search" />
  </a>
</div>

      <main class="c-textbook__page" tabindex="-1">
            <div class="c-textbook__content" id="textbook_content">
              <h1 id="advanced-topics-and-how-tos">Advanced topics and how-tos</h1>

<p>This page contains more advanced and complete information about the
<a href="https://github.com/jupyter/jupyter-book"><code class="language-plaintext highlighter-rouge">jupyter-book</code> repository</a>. See the sections below.</p>

<h2 id="enable-google-analytics">Enable Google Analytics</h2>

<p>If you have a Google Account, you can use Google Analytics to collect some
information on the traffic to your Jupyter Book. With this tool, you can find
out how many people are using your book, where they come from and how they
access it, wether they are using the Desktop or the mobile version etc.</p>

<p>To add Google Analytics to your Jupyter Book, navigate to
<a href="https://analytics.google.com/analytics/web/">Google Analytics</a>, create a new
Google Analytics account and add the url of your Jupyter Book to a new
<em>property</em>. Once you have set everything up, your Google Analytics property
will have a so-called Tracking-ID, that typically starts with the letters UA.
All that you need to do is to copy this ID and paste it into your
configuration file:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">google_analytics</span><span class="pi">:</span>
  <span class="na">mytrackingcode</span><span class="pi">:</span> <span class="s">UA-XXXXXXXXX-X</span>
</code></pre></div></div>

<h2 id="retain-custom-yaml-front-matter-in-your-files">Retain custom YAML front-matter in your files</h2>

<p>Jupyter book will check your files for YAML front-matter and will <strong>append</strong>
any newly-generated YAML to the built files for the page. This means you
can provide your own custom YAML to files (which may be useful if you’d like
to modify this book’s HTML).</p>

<p>Be careful not to add YAML with the same key names as the auto-generated YAML, as
this will create duplicated keys in your page’s front-matter.</p>

<h2 id="deploying-a-jupyterhub">Deploying a JupyterHub</h2>

<p>If you wish, you may deploy a JupyterHub alongside your textbook. This way, for pages that are built from
Jupyter Notebooks, students can click the “interact” links
at the top of each page and be taken to a live Jupyter Notebook running on your JupyterHub.</p>

<p>The easiest way to set up a JupyterHub is to follow <a href="https://the-littlest-jupyterhub.readthedocs.io/en/latest/index.html">The Littlest JupyterHub guide</a>.
This is a straightforward deployment of JupyterHub on a single VM, and is suitable for
courses / workshops of less than 50-60 students.</p>

<p>Once you have your JupyterHub set up, you can use the <a href="https://github.com/data-8/nbgitpuller">nbgitpuller</a>
package to send links to course material to your students, or use the interact links that Textbooks for Jupyter
automatically inserts into your course material.</p>

<h2 id="auto-generating-a-toc-file-for-your-book">Auto-generating a TOC file for your book</h2>

<p>Sometimes it can be a pain to create the Table of Contents YAML file by hand.
Jupyter Book has a convenience function to automatically create this file
using the alpha-numeric sorting of the file/folder names in your content folder.
To use it, simply use the following command:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jupyter-book toc path/to/mybook
</code></pre></div></div>

<p>This put all <code class="language-plaintext highlighter-rouge">.md</code> and <code class="language-plaintext highlighter-rouge">.ipynb</code> files in the root of the <strong>content folder</strong>
as top-level pages. For any files that are in folders, it will create one
section per <strong>top-level folder</strong> and place all content files inside that
section.</p>

<p>By default, running this command will print the TOC YAML to the screen.
If you’d like to overwrite your <code class="language-plaintext highlighter-rouge">_data/toc.yml</code> file with the result of
running this command, you can use the <code class="language-plaintext highlighter-rouge">--path-output</code> argument like so</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jupyter-book toc path/to/mybook <span class="nt">--path-output</span> path/to/mybook/_data/toc.yml
</code></pre></div></div>

<p>This will overwrite the contents of <code class="language-plaintext highlighter-rouge">toc.yml</code> with the new TOC.</p>

<blockquote>
  <p>Note: this will make some assumptions about how you’d like your book to
be structured. We recommend using this command as a starting point, and
then customizing your TOC how you’d like.</p>
</blockquote>

<h2 id="adding-tags-to-notebook-cells-based-on-their-content">Adding tags to notebook cells based on their content</h2>

<p>Sometimes you’d like to quickly scan through a notebook’s cells in order to
add tags based on the content of the cell. For example, you might want to
hide any cell with an import statement in it using the <code class="language-plaintext highlighter-rouge">remove_input</code> tag.</p>

<p>Here’s a short Python snippet to accomplish something close to this.
First change directories into the root of your book folder, and then
run the script below as a Python script or within a Jupyter Notebook
(modifying as necessary for your use case).
Finally, check the changes that will be made and commit them to your repository.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">nbformat</span> <span class="k">as</span> <span class="n">nbf</span>
<span class="kn">from</span> <span class="nn">glob</span> <span class="kn">import</span> <span class="n">glob</span>

<span class="c1"># Collect a list of all notebooks in the content folder
</span><span class="n">notebooks</span> <span class="o">=</span> <span class="n">glob</span><span class="p">(</span><span class="s">"./content/**/*.ipynb"</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="c1"># Text to look for in adding tags
</span><span class="n">text_search_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">"# HIDDEN"</span><span class="p">:</span> <span class="s">"remove_cell"</span><span class="p">,</span>  <span class="c1"># Remove the whole cell
</span>    <span class="s">"# NO CODE"</span><span class="p">:</span> <span class="s">"remove_input"</span><span class="p">,</span>  <span class="c1"># Remove only the input
</span>    <span class="s">"# HIDE CODE"</span><span class="p">:</span> <span class="s">"hide_input"</span>  <span class="c1"># Hide the input w/ a button to show
</span><span class="p">}</span>

<span class="c1"># Search through each notebook and look for th text, add a tag if necessary
</span><span class="k">for</span> <span class="n">ipath</span> <span class="ow">in</span> <span class="n">notebooks</span><span class="p">:</span>
    <span class="n">ntbk</span> <span class="o">=</span> <span class="n">nbf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">ipath</span><span class="p">,</span> <span class="n">nbf</span><span class="o">.</span><span class="n">NO_CONVERT</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">cell</span> <span class="ow">in</span> <span class="n">ntbk</span><span class="o">.</span><span class="n">cells</span><span class="p">:</span>
        <span class="n">cell_tags</span> <span class="o">=</span> <span class="n">cell</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'metadata'</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'tags'</span><span class="p">,</span> <span class="p">[])</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">text_search_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">cell</span><span class="p">[</span><span class="s">'source'</span><span class="p">]:</span>
                <span class="k">if</span> <span class="n">val</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">cell_tags</span><span class="p">:</span>
                    <span class="n">cell_tags</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">cell_tags</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">cell</span><span class="p">[</span><span class="s">'metadata'</span><span class="p">][</span><span class="s">'tags'</span><span class="p">]</span> <span class="o">=</span> <span class="n">cell_tags</span>

    <span class="n">nbf</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">ntbk</span><span class="p">,</span> <span class="n">ipath</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="customizing-your-tocyml-file">Customizing your <code class="language-plaintext highlighter-rouge">toc.yml</code> file</h2>

<p>The <code class="language-plaintext highlighter-rouge">toc.yml</code> file is used to control the chapter order etc of your book.
There are a few extra features you can use to trigger certain kinds of behavior.
This section explains the possible structure of this file so you can customize it
as you like.</p>

<h3 id="the-structure-of-a-single-page">The structure of a single page</h3>

<p>Below is all of the possible fields in the entry of a single page in <code class="language-plaintext highlighter-rouge">toc.yml</code>:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">-</span> <span class="na">title</span><span class="pi">:</span> <span class="s">mytitle</span>   <span class="c1"># Title of chapter or section</span>
  <span class="na">url</span><span class="pi">:</span> <span class="s">/myurl</span>  <span class="c1"># URL of section relative to the /content/ folder.</span>
  <span class="na">not_numbered</span><span class="pi">:</span> <span class="no">true</span>  <span class="c1"># if the section shouldn't have a number in the sidebar</span>
    <span class="s">(e.g. Introduction or appendices) (default</span><span class="pi">:</span> <span class="no">true</span><span class="s">)</span>
  <span class="na">expand_sections</span><span class="pi">:</span> <span class="no">true</span>  <span class="c1"># if you'd like the sections of this chapter to always</span>
    <span class="s">be expanded in the sidebar. (default</span><span class="pi">:</span> <span class="no">true</span><span class="s">)</span>
  <span class="na">sections</span><span class="pi">:</span>  <span class="c1"># Contains an optional list of more entries that make up the chapter's sections</span>
</code></pre></div></div>

<h3 id="adding-an-external-link-in-your-toc">Adding an external link in your TOC</h3>

<p>To add an external link in your TOC, simply make the url point to a fully-resolved
URL and add the <code class="language-plaintext highlighter-rouge">external: true</code> field. Here’s an example:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">-</span> <span class="na">title</span><span class="pi">:</span> <span class="s">Jupyter Homepage</span>   <span class="c1"># Title of chapter or section</span>
  <span class="na">url</span><span class="pi">:</span> <span class="s">https://jupyter.org</span>  <span class="c1"># URL of external site</span>
  <span class="na">external</span><span class="pi">:</span> <span class="no">true</span>
</code></pre></div></div>

<h3 id="extra-toc-entries">Extra TOC entries</h3>

<p>These are special entries that will trigger different behavior if they are
in the <code class="language-plaintext highlighter-rouge">toc.yml</code> file:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">-</span> <span class="na">search</span><span class="pi">:</span> <span class="no">true</span>  <span class="c1"># Will provide a link to a search page</span>
<span class="pi">-</span> <span class="na">divider</span><span class="pi">:</span> <span class="no">true</span>  <span class="c1"># Will insert a divider in the sidebar</span>
<span class="pi">-</span> <span class="na">header</span><span class="pi">:</span> <span class="s">My Header</span>  <span class="c1"># Will insert a header with no link in the sidebar</span>
</code></pre></div></div>

<h2 id="automatically-build-your-book-html-with-cicd">Automatically build your book HTML with CI/CD</h2>

<p>If you’re comfortable with continuous integration services like CircleCI, you can set up
a build job to build your book’s HTML automatically and push them to an online repository
(such as a <code class="language-plaintext highlighter-rouge">gh-pages</code> branch). This is a fairly advanced topic, but for some guidance,
check out these resources:</p>

<ul>
  <li><strong><a href="https://predictablynoisy.com/circleci-mirror">This blog post on pushing changes from a CircleCI Job</a></strong>
covers how you can give CircleCI permissions to push to a branch from within a job.</li>
  <li><strong><a href="https://github.com/jupyter/jupyter-book/blob/master/.circleci/config.yml">The Jupyter Book CircleCI configuration file</a></strong>
automatically deploys changes to the <code class="language-plaintext highlighter-rouge">jupyter-book</code> master branch to the live book. In
particular, <a href="https://github.com/jupyter/jupyter-book/blob/master/.circleci/config.yml#L74">this section builds the book HTML files</a>
while <a href="https://github.com/jupyter/jupyter-book/blob/master/.circleci/config.yml#L31">this section builds the HTML and pushes them to a <code class="language-plaintext highlighter-rouge">gh-pages</code> branch</a>.</li>
</ul>

<p>This process can be tricky to set up initially, but is quite useful in ensuring that your live book
always stays up-to-date.</p>

            </div>
            <div class="c-textbook__footer" id="textbook_footer">
              
<nav class="c-page__nav">
  

  
</nav>

              <footer>
  <p class="footer">This page was created by <a href="https://github.com/jupyter/jupyter-book/graphs/contributors">The Jupyter Book Community</a></p>
</footer>

            </div>

        </div>
      </main>
    </div>
  </body>
</html>
